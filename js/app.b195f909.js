(function(t){function e(e){for(var o,r,s=e[0],i=e[1],u=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&p.push(c[r][0]),c[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},c={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-3-post-page/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0943":function(t,e,n){"use strict";n("a9ee")},1232:function(t,e,n){"use strict";n("1fea")},"1fea":function(t,e,n){},"3abf":function(t,e,n){},"3ce4":function(t,e,n){"use strict";n("4559")},"3e75":function(t,e,n){"use strict";n("8c7f")},4559:function(t,e,n){},"4b51":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("b0c0");var o=n("7a23"),c={class:"app"},a=Object(o["g"])("h1",null,"Страница с постами",-1),r={class:"app__btns"},s=Object(o["f"])(" Создать пост "),i={key:1};function u(t,e,n,u,l,d){var p=Object(o["m"])("my-input"),b=Object(o["m"])("my-button"),f=Object(o["m"])("my-select"),j=Object(o["m"])("post-form"),O=Object(o["m"])("my-dialog"),h=Object(o["m"])("post-list"),v=Object(o["m"])("post-pagination");return Object(o["h"])(),Object(o["d"])("div",c,[a,Object(o["g"])(p,{modelValue:l.searchQuery,"onUpdate:modelValue":e[1]||(e[1]=function(t){return l.searchQuery=t}),placeholder:"Поиск по названию....",ref:"focus"},null,8,["modelValue"]),Object(o["g"])("div",r,[Object(o["g"])(b,{onClick:d.showDialog},{default:Object(o["p"])((function(){return[s]})),_:1},8,["onClick"]),Object(o["g"])(f,{modelValue:l.selectedSort,"onUpdate:modelValue":e[2]||(e[2]=function(t){return l.selectedSort=t}),options:l.sortOptions},null,8,["modelValue","options"])]),Object(o["g"])(O,{show:l.dialogVisible,"onUpdate:show":e[3]||(e[3]=function(t){return l.dialogVisible=t})},{default:Object(o["p"])((function(){return[Object(o["g"])(j,{onCreate:d.createPost},null,8,["onCreate"])]})),_:1},8,["show"]),l.isPostsLoading?(Object(o["h"])(),Object(o["d"])("div",i,"Идет загрузка...")):(Object(o["h"])(),Object(o["d"])(h,{key:0,posts:d.sortedAndSearchedPosts,onRemove:d.removePost},null,8,["posts","onRemove"])),Object(o["g"])(v,{total:l.totalPages,page:l.page,onChange:d.changePage},null,8,["total","page","onChange"])])}var l=n("2909"),d=n("1da1"),p=(n("96cf"),n("4de4"),n("99af"),n("4e82"),n("caad"),n("2532"),Object(o["s"])("data-v-8426ed76"));Object(o["j"])("data-v-8426ed76");var b=Object(o["g"])("h4",null,"Создание поста",-1),f=Object(o["f"])(" Создать ");Object(o["i"])();var j=p((function(t,e,n,c,a,r){var s=Object(o["m"])("my-input"),i=Object(o["m"])("my-button");return Object(o["h"])(),Object(o["d"])("form",{onSubmit:e[3]||(e[3]=Object(o["r"])((function(){}),["prevent"]))},[b,Object(o["g"])(s,{ref:"focus",modelValue:a.post.title,"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.post.title=t}),type:"text",placeholder:"Название"},null,8,["modelValue"]),Object(o["g"])(s,{modelValue:a.post.body,"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.post.body=t}),type:"text",placeholder:"Описание"},null,8,["modelValue"]),Object(o["g"])(i,{style:{"align-self":"flex-end","margin-top":"15px"},onClick:r.createPost},{default:p((function(){return[f]})),_:1},8,["onClick"])],32)})),O={data:function(){return{post:{title:"",body:""}}},methods:{createPost:function(){this.post.id=Date.now(),this.$emit("create",this.post),this.post={title:"",body:""}},inFocus:function(){this.$refs.focus.$el.focus()}},mounted:function(){this.inFocus()}};n("5dd6");O.render=j,O.__scopeId="data-v-8426ed76";var h=O,v=Object(o["s"])("data-v-07749ca8");Object(o["j"])("data-v-07749ca8");var m={key:0},g=Object(o["g"])("h3",null,"Список постов",-1),y={key:1,style:{color:"red"}};Object(o["i"])();var _=v((function(t,e,n,c,a,r){var s=Object(o["m"])("post-item");return n.posts.length>0?(Object(o["h"])(),Object(o["d"])("div",m,[g,Object(o["g"])(o["b"],{name:"post-list"},{default:v((function(){return[(Object(o["h"])(!0),Object(o["d"])(o["a"],null,Object(o["k"])(n.posts,(function(e){return Object(o["h"])(),Object(o["d"])(s,{post:e,key:e.id,onRemove:function(n){return t.$emit("remove",e)}},null,8,["post","onRemove"])})),128))]})),_:1})])):(Object(o["h"])(),Object(o["d"])("h2",y," Список постов пуст "))})),P=Object(o["s"])("data-v-54175476");Object(o["j"])("data-v-54175476");var w={class:"post"},k=Object(o["g"])("strong",null,"ID:",-1),V=Object(o["g"])("strong",null,"Название:",-1),x=Object(o["g"])("strong",null,"Описание:",-1),S={class:"post__btns"},C=Object(o["f"])(" Удалить ");Object(o["i"])();var I=P((function(t,e,n,c,a,r){var s=Object(o["m"])("my-button");return Object(o["h"])(),Object(o["d"])("div",w,[Object(o["g"])("div",null,[Object(o["g"])("div",null,[k,Object(o["f"])(" "+Object(o["n"])(n.post.id),1)]),Object(o["g"])("div",null,[V,Object(o["f"])(" "+Object(o["n"])(n.post.title),1)]),Object(o["g"])("div",null,[x,Object(o["f"])(" "+Object(o["n"])(n.post.body),1)])]),Object(o["g"])("div",S,[Object(o["g"])(s,{onClick:e[1]||(e[1]=function(e){return t.$emit("remove",n.post)})},{default:P((function(){return[C]})),_:1})])])})),$={props:{post:{type:Object,required:!0}}};n("718c");$.render=I,$.__scopeId="data-v-54175476";var M=$,R={components:{PostItem:M},props:{posts:{type:Array,required:!0}}};n("0943");R.render=_,R.__scopeId="data-v-07749ca8";var D=R,L=Object(o["s"])("data-v-35fe3c8f");Object(o["j"])("data-v-35fe3c8f");var U={class:"btn"};Object(o["i"])();var q=L((function(t,e,n,c,a,r){return Object(o["h"])(),Object(o["d"])("button",U,[Object(o["l"])(t.$slots,"default",{},void 0,!0)])})),F={name:"my-button"};n("3e75");F.render=q,F.__scopeId="data-v-35fe3c8f";var A=F,Q=n("bc3a"),N=n.n(Q),B=Object(o["s"])("data-v-e3da1cf6");Object(o["j"])("data-v-e3da1cf6");var J=Object(o["g"])("option",{disabled:"",value:""},"Выберите из списка",-1);Object(o["i"])();var T=B((function(t,e,n,c,a,r){return Object(o["q"])((Object(o["h"])(),Object(o["d"])("select",{class:"select","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.modelValue=t}),onChange:e[2]||(e[2]=function(){return r.changeOption&&r.changeOption.apply(r,arguments)})},[J,(Object(o["h"])(!0),Object(o["d"])(o["a"],null,Object(o["k"])(n.options,(function(t){return Object(o["h"])(),Object(o["d"])("option",{key:t.value,value:t.value},Object(o["n"])(t.name),9,["value"])})),128))],544)),[[o["o"],n.modelValue]])})),E={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:function(){return[]}}},methods:{changeOption:function(t){this.$emit("update:modelValue",t.target.value)}}};n("6250");E.render=T,E.__scopeId="data-v-e3da1cf6";var z=E,G=Object(o["s"])("data-v-6399deb9"),H=G((function(t,e,n,c,a,r){return Object(o["h"])(),Object(o["d"])("input",{value:n.modelValue,onInput:e[1]||(e[1]=function(){return r.updateInput&&r.updateInput.apply(r,arguments)}),class:"input",type:"text"},null,40,["value"])})),K=(n("a9e3"),{name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput:function(t){this.$emit("update:modelValue",t.target.value)}}});n("70c4");K.render=H,K.__scopeId="data-v-6399deb9";var W=K,X=Object(o["s"])("data-v-307d5f85");Object(o["j"])("data-v-307d5f85");var Y={class:"page__wrapper"};Object(o["i"])();var Z=X((function(t,e,n,c,a,r){return Object(o["h"])(),Object(o["d"])("div",Y,[(Object(o["h"])(!0),Object(o["d"])(o["a"],null,Object(o["k"])(n.total,(function(e){return Object(o["h"])(),Object(o["d"])("div",{key:e,class:["page",{"current-page":n.page===e}],onClick:function(n){return t.$emit("change",e)}},Object(o["n"])(e),11,["onClick"])})),128))])})),tt={props:{total:{type:Number,required:!0},page:{type:Number,required:!0}}};n("a6f2");tt.render=Z,tt.__scopeId="data-v-307d5f85";var et=tt,nt={components:{MyInput:W,MySelect:z,MyButton:A,PostList:D,PostForm:h,PostPagination:et},data:function(){return{posts:[],dialogVisible:!1,isPostsLoading:!1,selectedSort:"",searchQuery:"",page:1,limit:10,totalPages:0,sortOptions:[{value:"id",name:"По id"},{value:"title",name:"По названию"},{value:"body",name:"По содержимому"}]}},methods:{createPost:function(t){this.posts.push(t),this.dialogVisible=!1},removePost:function(t){this.posts=this.posts.filter((function(e){return e.id!==t.id}))},showDialog:function(){this.dialogVisible=!0},changePage:function(t){this.page=t},fetchPosts:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isPostsLoading=!0,e.next=4,N.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limit}});case 4:n=e.sent,t.totalPages=Math.ceil(n.headers["x-total-count"]/t.limit),t.posts=n.data,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),alert("Ошибка");case 12:return e.prev=12,t.isPostsLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},loadMorePosts:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.page+=1,e.next=4,N.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limit}});case 4:n=e.sent,t.totalPages=Math.ceil(n.headers["x-total-count"]/t.limit),t.posts=[].concat(Object(l["a"])(t.posts),Object(l["a"])(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),alert("Ошибка");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},inFocus:function(){this.$refs.focus.$el.focus()}},mounted:function(){this.fetchPosts(),this.inFocus()},computed:{sortedPosts:function(){var t=this;return"id"===this.selectedSort?Object(l["a"])(this.posts).sort((function(e,n){return e[t.selectedSort]-n[t.selectedSort]})):Object(l["a"])(this.posts).sort((function(e,n){var o;return null===(o=e[t.selectedSort])||void 0===o?void 0:o.localeCompare(n[t.selectedSort])}))},sortedAndSearchedPosts:function(){var t=this;return this.sortedPosts.filter((function(e){return e.title.toLowerCase().includes(t.searchQuery.toLowerCase())}))}},watch:{page:function(){this.fetchPosts()}}};n("1232");nt.render=u;var ot=nt,ct=Object(o["s"])("data-v-cd303000"),at=ct((function(t,e,n,c,a,r){return n.show?(Object(o["h"])(),Object(o["d"])("div",{key:0,class:"dialog",onClick:e[2]||(e[2]=Object(o["r"])((function(){return r.hideDialog&&r.hideDialog.apply(r,arguments)}),["stop"]))},[Object(o["g"])("div",{onClick:e[1]||(e[1]=Object(o["r"])((function(){}),["stop"])),class:"dialog__content"},[Object(o["l"])(t.$slots,"default",{},void 0,!0)])])):Object(o["e"])("",!0)})),rt={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog:function(){this.$emit("update:show",!1)}}};n("3ce4");rt.render=at,rt.__scopeId="data-v-cd303000";var st=rt,it=[A,W,st],ut=Object(o["c"])(ot);it.forEach((function(t){ut.component(t.name,t)})),ut.mount("#app")},"5c51":function(t,e,n){},"5dd6":function(t,e,n){"use strict";n("3abf")},6250:function(t,e,n){"use strict";n("4b51")},"70c4":function(t,e,n){"use strict";n("fdb2")},"718c":function(t,e,n){"use strict";n("5c51")},"796e":function(t,e,n){},"8c7f":function(t,e,n){},a6f2:function(t,e,n){"use strict";n("796e")},a9ee:function(t,e,n){},fdb2:function(t,e,n){}});
//# sourceMappingURL=app.b195f909.js.map